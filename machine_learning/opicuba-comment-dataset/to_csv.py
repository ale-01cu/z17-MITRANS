
sugerencia_transporte = [
    {
        "comment": "Sugiero implementar un sistema de tracking GPS para los ómnibus urbanos, así sabríamos cuándo llegan realmente",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo crear carriles exclusivos para el transporte público en horas pico, agilizaría mucho el tráfico",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil que los taxis colectivos tengan una app para reservar asientos y evitar las largas colas",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo aumentar la frecuencia de los trenes interprovinciales los fines de semana cuando hay más demanda",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero colocar pantallas informativas en las paradas con los horarios reales de llegada de los ómnibus",
        "label": "sugerencia"
    }
]

sugerencia_electricidad = [
    {
        "comment": "Propongo crear un sistema de alertas SMS para informar sobre los cortes programados de electricidad",
        "label": "sugerencia"
    },
    {
        "comment": "Sería bueno implementar talleres comunitarios sobre cómo ahorrar energía para reducir los apagones",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero priorizar la instalación de paneles solares en hospitales y centros vitales para emergencias",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo modernizar los medidores eléctricos para que muestren el consumo en tiempo real",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo crear brigadas de respuesta rápida para atender averías críticas en menos de 24 horas",
        "label": "sugerencia"
    }
]

sugerencia_telecom = [
    {
        "comment": "Sugiero que ETECSA ofrezca paquetes de Internet más económicos para estudiantes y adultos mayores",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil implementar centros de wifi comunitario gratuito en zonas rurales con acceso limitado",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo crear una línea de atención al cliente 24/7 para reportar fallas en el servicio",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo mejorar la infraestructura de antenas para garantizar mejor cobertura móvil en todo el país",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero desarrollar una app nacional para mensajería interna que funcione sin necesidad de Internet",
        "label": "sugerencia"
    }
]

sugerencia_bancos = [
    {
        "comment": "Propongo extender el horario de atención en bancos hasta las 7pm para quienes trabajan de día",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil implementar cajeros automáticos que dispensen tanto CUP como MLC según necesidad del cliente",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero crear videollamadas con asesores bancarios para evitar desplazamientos innecesarios",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo cursos de educación financiera básica en las sucursales para adultos mayores",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo un sistema de alertas por SMS para movimientos bancarios y prevenir fraudes",
        "label": "sugerencia"
    }
]

sugerencia_tiendas = [
    {
        "comment": "Sugiero implementar venta online en tiendas MLC con entrega a domicilio para evitar aglomeraciones",
        "label": "sugerencia"
    },
    {
        "comment": "Sería bueno crear un sistema de reserva de productos básicos por teléfono para personas mayores",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo establecer horarios exclusivos para embarazadas y discapacitados en las TRD",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo mejorar el control de calidad en los productos alimenticios que se venden en las tiendas",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero implementar cajas rápidas para compras menores a 5 productos y agilizar las colas",
        "label": "sugerencia"
    }
]

sugerencia_salud = [
    {
        "comment": "Propongo crear un sistema de telemedicina para consultas no urgentes y descongestionar los hospitales",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil implementar farmacias móviles que recorran barrios periféricos con medicamentos esenciales",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero desarrollar una app con los stocks reales de medicamentos por farmacia para evitar viajes innecesarios",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo crear brigadas de mantenimiento preventivo en hospitales para evitar fallas eléctricas críticas",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo un programa de acompañamiento psicológico gratuito por teléfono durante las crisis sanitarias",
        "label": "sugerencia"
    }
]

sugerencia_agua = [
    {
        "comment": "Sugiero implementar un sistema de cisternas comunitarias en zonas con problemas crónicos de suministro",
        "label": "sugerencia"
    },
    {
        "comment": "Sería bueno crear talleres para enseñar a reparar fugas básicas en los hogares y reducir el desperdicio",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo instalar tanques de almacenamiento en los edificios altos para mejorar la presión del agua",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo un programa de reforestación en cuencas hidrográficas para mejorar el suministro a largo plazo",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero crear una línea telefónica directa para reportar fugas en la vía pública con respuesta garantizada en 48h",
        "label": "sugerencia"
    }
]

sugerencia_correos = [
    {
        "comment": "Propongo modernizar el sistema de rastreo de paquetes con códigos QR y actualizaciones en tiempo real",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil implementar casilleros electrónicos en zonas céntricas para retirar paquetes las 24 horas",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero crear una tarifa plana para envíos nacionales frecuentes de pequeños negocios",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo capacitación constante al personal en manejo de paquetes frágiles para reducir daños",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo alianzas con empresas locales para puntos de recogida de encomiendas en todos los municipios",
        "label": "sugerencia"
    }
]

sugerencia_vivienda = [
    {
        "comment": "Sugiero crear bancos de materiales de construcción reciclados para abaratar costos de reparaciones",
        "label": "sugerencia"
    },
    {
        "comment": "Sería bueno implementar un sistema de permutas virtuales con fotos y detalles técnicos de las propiedades",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo talleres comunitarios de autoconstrucción guiada para mejorar viviendas con bajos recursos",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo priorizar subsidios para reparación de techos antes de la temporada de huracanes",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero crear una oficina móvil que visite barrios remotos para trámites de vivienda",
        "label": "sugerencia"
    }
]

sugerencia_otros = [
    {
        "comment": "Propongo implementar puntos de reciclaje en cada cuadra con incentivos por materiales entregados",
        "label": "sugerencia"
    },
    {
        "comment": "Sería útil crear una app para reportar problemas comunitarios (basura, fugas) con seguimiento público",
        "label": "sugerencia"
    },
    {
        "comment": "Sugiero horarios diferenciados para compra de gas licuado según terminación de cédula de identidad",
        "label": "sugerencia"
    },
    {
        "comment": "Recomiendo crear mercados agrícolas móviles que visiten barrios sin acceso a placitas",
        "label": "sugerencia"
    },
    {
        "comment": "Propongo un programa de mantenimiento preventivo de alcantarillados antes de la temporada de lluvias",
        "label": "sugerencia"
    }
]


# Import pandas at the top of the file
import pandas as pd
import os

date = '(jueves. 4 de abril de 2025)'

# List of all categories and their corresponding data
categories = [
    ('transporte', sugerencia_transporte),
    ('electrica', sugerencia_electricidad),
    ('telecomunicaciones', sugerencia_telecom),
    ('banco', sugerencia_bancos),
    ('mlc_tienda', sugerencia_tiendas),
    ('salud', sugerencia_salud),
    ('agua', sugerencia_agua),
    ('postal', sugerencia_correos),
    ('permutas', sugerencia_vivienda),
    ('otros', sugerencia_otros)
]

# Create and save CSV files with category-based folders
for category_name, data in categories:
    # Create folder path
    folder_path = os.path.join('input', category_name)
    
    # Create folder if it doesn't exist
    os.makedirs(folder_path, exist_ok=True)
    
    # Create filename with date
    filename = f'ia-{category_name}{date}.csv'
    full_path = os.path.join(folder_path, filename)
    
    # Verificar si el archivo ya existe
    if os.path.exists(full_path):
        try:
            # Leer el archivo existente
            existing_df = pd.read_csv(full_path, encoding='utf-8')
            
            # Convertir los nuevos datos a DataFrame
            new_df = pd.DataFrame(data)
            
            # Concatenar los datos existentes con los nuevos
            combined_df = pd.concat([existing_df, new_df], ignore_index=True)
            
            # Eliminar duplicados si los hay (basado en el texto del comentario)
            combined_df = combined_df.drop_duplicates(subset=['comment'], keep='first')
            
            # Guardar el archivo combinado
            combined_df.to_csv(full_path, index=False, encoding='utf-8')
            print(f'Actualizado: {full_path} con {len(new_df)} nuevos elementos')
            
        except Exception as e:
            print(f'Error al actualizar {full_path}: {e}')
            
    else:
        # Si el archivo no existe, crear uno nuevo
        pd.DataFrame(data).to_csv(full_path, index=False, encoding='utf-8')
        print(f'Creado nuevo archivo: {full_path}')